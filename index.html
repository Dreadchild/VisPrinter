<!doctype html>

<html>

<head>
	<title>Vis/Printer</title>
	<meta http-equiv="content-type" content="text/html; charset=utf8">
	<script src="utils.js"></script>
	<script src="Viewer.js"></script>
	<script src="lightgl.js"></script>
	<script src="touchHandler.js"></script>
	<script src="VisPrinter.js"></script>
</head>
<style>
	td{
		padding: 0px; 
		margin: 0px;
		border:none;
	}
	.main, html, body{
		width: 100%;
		height: 100%;
		margin: 0px;
		padding: 0px;
		background-color: black;
		color: #888;
		font-family: sans-serif;
	}
	select, option, input, button{
		color: white;
		background-color: #333;
		border: none;
/*		width: 100px;*/
	}
	.logo{
		position: absolute; 
		bottom: 10px;
		left: 10px;
		font-size: 12px;
	}
	.view{
		position: absolute; 
		top: 0px;
		left: 0px;
		right: 400px;
		bottom: 0px;
	}
	canvas{
		position: absolute;
		left: 0px;
		top: 0px;
		right: 0px;
		bottom: 0px;
	}
	.menuPane{
		position: absolute;
		right: 0px;
		bottom: 0px;
		height: 177px;
		width: 380px;
		border-top: 3px solid #fff;
		font-size:13px;
		padding: 10px;
		line-height: 18px;
	}
	a{
		color:#fff;
	}
	h2{
	    font-size: 11px;
	    color: #999;
	    margin: 2px;
	    padding: 0px;	    
	}
	form{
	    margin: 2px;
	    background-color: #111;
	}
	.treePane{
		position: absolute;
		right: 0px;
		top: 0px;
		bottom: 200px;
		width: 400px;
		overflow: hidden;
	}
	.console{
		height: 100%;
		width: 100%;
		margin: 0px;
		padding: 0px;
		border:0px;
		color: #fff;
		background-color: #000;
	}

	#progress{
		background-color:black;
		font-size: 12px;
		position: absolute;
		width: 0%;
		height: 20px;
		width: 100%;
		left: 0px;
		bottom: 0px;
		display: none;
	}
	#progress .cancel{
		color: #fff;
		position: absolute;
		right: 5px;
		top: 2px;
	}
	#progress>div{
		position: absolute;
		top: 0px;
		bottom: 0px;
		left: 0px;
		right: 0px;
		border: 1px solid #fff;
	}
	#progressBar{		
		position: absolute;
		left:  2px;
		top:   2px;
		bottom:2px;
		background-color: #fff;
	}
	#progressName{
		color: #000;
	}
</style>

<body >
		<div class=treePane><textarea class=console id="console"></textarea></div>
		<div class=menuPane>
			<form onsubmit="return false">
			    <h2>connect printer</h2>
			    <span id=connection></span>
			</form>
			<form onsubmit="VisPrinter.cmd(this.cmd.value); return false;" ><h2>send gcode</h2>&gt;<input name=cmd title="issue command by pressing <enter>"></form>
			<form onsubmit="return false;">
			    <h2>move and calibrate</h2> 
			    X<input name=X size=2> Y<input name=Y size=2> Z<input name=Z size=2> E<input name=E size=2>
			    <button onclick="VisPrinter.goto(this.parentNode)" title="go to entered position">go</button>
			    <button onclick="VisPrinter.cmd('G1 X0 Y0 Z0')" title="go to X0 Y0 Z0">origin</button><button onclick="VisPrinter.cmd('G28')" title="calibrate home position">home</button>
			</form>
			<form onsubmit="return false">
			    <h2>slice and print</h2> 
    			<input caption=Import type=file onchange="VisPrinter.loadStl(this.files[0])">
	    		<button onclick="VisPrinter.slice()" title="slice this object according to current settings">slice</button>
	    		<button onclick="VisPrinter.print()" title="print this object">print</button>
			</form>
		</div>
		<div id=view class="view" ></div>
		<div class=logo>Vis/Printer - http://hirnsohle.de/VisPrinter/ - Â© 2012 Paul Geisler - <a href="README.html">Manual - Credits - Examples</a></div>
		<div id=progress><div><div id=progressBar><span id=progressName></span></div></div><a class=cancel href='javascript:VisPrinter.cancel()'>cancel</a></div>
 <script>

	HTMLElement.prototype.removeClass=function(className){
		var tmp=" "+this.className+" ";
		tmp=tmp.replace(" "+className+" "," ");
		tmp=tmp.trim();
		this.className=tmp;
	}

	VisPrinter.attach();
 </script>
</body>
</html>

